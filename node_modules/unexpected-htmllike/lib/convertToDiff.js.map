{"version":3,"sources":["../src/convertToDiff.js"],"names":[],"mappings":";;;;;qBAGwB,aAAa;;;;4BAHZ,eAAe;;;;4BACf,gBAAgB;;;;AAE1B,SAAS,aAAa,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE;AAC1D,WAAO,GAAG,+BAAa,EAAE,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;AAC/D,QAAI,+BAAa,IAAI,CAAC,EAAE;AACpB,eAAO;AACH,gBAAI,EAAE,SAAS;AACf,iBAAK,EAAE,IAAI;SACd,CAAC;KACL;;AAED,QAAM,SAAS,GAAG;AACd,YAAI,EAAE,SAAS;AACf,YAAI,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;AAC3B,kBAAU,EAAE,EAAE;KACjB,CAAC;AACF,QAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAC/C,QAAI,UAAU,EAAE;AACZ,cAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAA,UAAU,EAAI;AAC1C,qBAAS,CAAC,UAAU,CAAC,IAAI,CAAC;AACtB,oBAAI,EAAE,UAAU;AAChB,qBAAK,EAAE,UAAU,CAAC,UAAU,CAAC;aAChC,CAAC,CAAC;SACN,CAAC,CAAC;KACN;;AAED,QAAI,OAAO,CAAC,eAAe,EAAE;AACzB,YAAM,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC3C,YAAI,QAAQ,EAAE;AACV,qBAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAA,KAAK;uBAAI,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC;aAAA,CAAC,CAAC;SAC7E;KACJ;;AAED,WAAO,SAAS,CAAC;CACpB","file":"convertToDiff.js","sourcesContent":["import ObjectAssign from 'object-assign';\nimport isNativeType from './isNativeType';\n\nexport default function convertToDiff(adapter, item, options) {\n    options = ObjectAssign({}, { includeChildren: true }, options);\n    if (isNativeType(item)) {\n        return {\n            type: 'CONTENT',\n            value: item\n        };\n    }\n\n    const diffEntry = {\n        type: 'ELEMENT',\n        name: adapter.getName(item),\n        attributes: []\n    };\n    const attributes = adapter.getAttributes(item);\n    if (attributes) {\n        Object.keys(attributes).forEach(attribName => {\n            diffEntry.attributes.push({\n                name: attribName,\n                value: attributes[attribName]\n            });\n        });\n    }\n\n    if (options.includeChildren) {\n        const children = adapter.getChildren(item);\n        if (children) {\n            diffEntry.children = children.map(child => convertToDiff(adapter, child));\n        }\n    }\n\n    return diffEntry;\n}\n"]}